{% extends 'index.html' %}

{% block js %}

<script>
    function confirmarEliminar(id){
        Swal.fire({
            "title":"Estas seguro de eliminar ?",
            "text":"Esta accion no se puede desacer",
            "icon":"warning",
            "showCancelButton":true,
            "cancelButtonText":"No, cancelar",
            "confirmButtonText":"Si, eliminar",
            "reverseButtons":true,
            "confirmButtonColor":"#2C3034"
        })
        .then(function(result){
            if(result.isConfirmed){
                window.location.href="/animal/delete_animals/"+id
            }
        })
    }
</script>    
    
{% endblock %}


{% block content %}

<div class="container mt-4">
    <table class="table table-dark table-striped" id="tablaAnimales">

        <thead>
            <tr>
                <th>#</th>
                <th>Due√±o</th>
                <th>Edad</th>
                <th>Descripcion</th>
                <th>Foto</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for animal in animals %}
            <tr>
                <td>{{ animal.id }}</td>
                <td>{{ animal.user_id }}</td>
                <td>{{ animal.age }}</td>
                <td>{{ animal.description }}</td>
                <td>{{ animal.picture }}</td>
                <td>
                    
                    <a href="{% url 'get_animal_id' animal.id %}" class="btn btn-primary">Detalle</a>
                    <a href="{% url 'process_image' animal.id %}" class="btn btn-success">Procesar</a>
                    <a href="#" onclick="confirmarEliminar({{ animal.id }})" class="btn btn-danger btnEliminar">Eliminar</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>



{% endblock %}